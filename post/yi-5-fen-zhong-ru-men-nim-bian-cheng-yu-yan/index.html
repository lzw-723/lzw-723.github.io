<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>【译】5分钟入门Nim编程语言 | lzw-723&#39;s blog</title>
<link rel="shortcut icon" href="https://lzw-723.github.io/favicon.ico?v=1669207697495">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://lzw-723.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="【译】5分钟入门Nim编程语言 | lzw-723&#39;s blog - Atom Feed" href="https://lzw-723.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="Nim(原名Nimrod)是一种静态类型的命令式编程语言，
它能在不影响运行时效率的情况下为程序员提供强大的功能。

Nim语言高效、有表现力、优雅。
# 单行注释以一个#开头

#[
  这是多行注释
  在Nim语言中，多行注释可以嵌套..." />
    <meta name="keywords" content="教程,翻译,笔记,写作" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://lzw-723.github.io">
  <img class="avatar" src="https://lzw-723.github.io/images/avatar.png?v=1669207697495" alt="">
  </a>
  <h1 class="site-title">
    lzw-723&#39;s blog
  </h1>
  <p class="site-description">
    积恶成*
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/anime" class="menu">
          动画
        </a>
      
    
      
        <a href="/post/friends" class="menu">
          友链
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/lzw-723" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
    
      
    
      
        <a href="https://www.zhihu.com/people/lzw-723" target="_blank">
          <i class="ri-zhihu-line"></i>
        </a>
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              【译】5分钟入门Nim编程语言
            </h2>
            <div class="post-info">
              <span>
                2021-12-04
              </span>
              <span>
                7 min read
              </span>
              
                <a href="https://lzw-723.github.io/tag/ED-Tw5-vhp/" class="post-tag">
                  # 教程
                </a>
              
                <a href="https://lzw-723.github.io/tag/1-Q3SKzSGk/" class="post-tag">
                  # 翻译
                </a>
              
                <a href="https://lzw-723.github.io/tag/ol7l837c1/" class="post-tag">
                  # 笔记
                </a>
              
                <a href="https://lzw-723.github.io/tag/IOCiVO8tA/" class="post-tag">
                  # 写作
                </a>
              
            </div>
            
              <img class="post-feature-image" src="https://s4.ax1x.com/2021/12/04/odzukT.png" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <p>Nim(原名Nimrod)是一种静态类型的命令式编程语言，<br>
它能在不影响运行时效率的情况下为程序员提供强大的功能。</p>
<!-- more -->
<p>Nim语言高效、有表现力、优雅。</p>
<pre><code class="language-js"># 单行注释以一个#开头

#[
  这是多行注释
  在Nim语言中，多行注释可以嵌套，以#[开头，以]#结尾
]#

discard &quot;&quot;&quot;
这也可以作为多行注释使用。
或者用于无法解析、损坏的代码
&quot;&quot;&quot;

var                     # 声明(和赋值)变量
  letter: char = 'n'    # 带或不带类型批注
  lang = &quot;N&quot; &amp; &quot;im&quot;
  nLength: int = len(lang)
  boat: float
  truth: bool = false

 let            # 使用let*一次性*声明和绑定变量。
  legs = 400   # legs是不可改变的。
  arms = 2_000 # _会被忽略，对long类型非常有用。
  aboutPi = 3.15

const            # 常量在编译时计算。这确保了
  debug = true   # 性能，在编译时表达式中很有用。
  compileBadCode = false

when compileBadCode:            # `when`是编译时的`if`
  legs = legs + 1               # 这个错误永远不会被编译。
  const input = readline(stdin) # const在编译时必须是已知的。

discard 1 &gt; 2 # 注意：如果表达式的结果未使用，
              # 编译器会发出警告。`discard`绕过了这一点。


#
# 数据结构
#

# 元组(Tuple)

var
  child: tuple[name: string, age: int]   # 元组有*字段名*
  today: tuple[sun: string, temp: float] # 和*顺序*


child = (name: &quot;Rudiger&quot;, age: 2) # 使用字面值()一次性赋值全部
today.sun = &quot;Overcast&quot;            # 也可以单独赋值
today.temp = 70.1

# 序列(Sequence)

var
  drinks: seq[string]

drinks = @[&quot;Water&quot;, &quot;Juice&quot;, &quot;Chocolate&quot;] # @[V1,..,Vn] 是序列的字面值

drinks.add(&quot;Milk&quot;)

if &quot;Milk&quot; in drinks:
  echo &quot;We have Milk and &quot;, drinks.len - 1, &quot; other drinks&quot;

let myDrink = drinks[2]

#
# 自定义类型
#

# 定义你自己的类型使得编译器为你工作。
# 这使得静态类型变得强大和有用。

type
  Name = string # 类型别名为你提供一个新类型，
  Age = int     # 该类型可与旧类型互换，但更具描述性。
  Person = tuple[name: Name, age: Age] # 也可以定义数据结构。
  AnotherSyntax = tuple
    fieldOne: string
    secondField: int

var
  john: Person = (name: &quot;John B.&quot;, age: 17)
  newage: int = 18 # 在这里使用Age比int要好

john.age = newage # 仍然有效，因为int和Age同义

type
  Cash = distinct int    # `distinct`使一个新类型与它的基本类型不兼容。
  Desc = distinct string

var
  money: Cash = 100.Cash # `.Cash`把int转换成我们的类型
  description: Desc  = &quot;Interesting&quot;.Desc

when compileBadCode:
  john.age  = money        # 错误！age是int类型、money是Cash类型
  john.name = description  # 编译器说：“没门！”

#
# 更多类型和数据结构
#

# 枚举类型只能具有有限数量的值之一

type
  Color = enum cRed, cBlue, cGreen
  Direction = enum # 可选格式
    dNorth
    dWest
    dEast
    dSouth
var
  orient = dNorth # `orient`的类型是Direction，值是`dNorth`
  pixel = cGreen # `pixel`的类型是Color，值是`cGreen`

discard dNorth &gt; dEast # Enum通常是“序数”类型

# 子范围指定有限的有效范围

type
  DieFaces = range[1..20] # 只有从1到20的int才是有效值
var
  my_roll: DieFaces = 13

when compileBadCode:
  my_roll = 23 # 错误！

# 数组(Array)

type
  RollCounter = array[DieFaces, int]  # 数组长度固定
  DirNames = array[Direction, string] # 以任意有序类型索引
  Truths = array[42..44, bool]
var
  counter: RollCounter
  directions: DirNames
  possible: Truths

possible = [false, false, false] # 数组字面以[V1,..,Vn]表示
possible[42] = true

directions[dNorth] = &quot;Ahh. The Great White North!&quot;
directions[dWest] = &quot;No, don't go there.&quot;

my_roll = 13
counter[my_roll] += 1
counter[my_roll] += 1

var anotherArray = [&quot;Default index&quot;, &quot;starts at&quot;, &quot;0&quot;]

# 可用的数据结构包括表、集合、列表、队列、压缩前缀树。
# http://nim-lang.org/docs/lib.html#collections-and-algorithms

#
# IO和控制流
#

# `case`, `readLine()`

echo &quot;Read any good books lately?&quot;
case readLine(stdin)
of &quot;no&quot;, &quot;No&quot;:
  echo &quot;Go to your local library.&quot;
of &quot;yes&quot;, &quot;Yes&quot;:
  echo &quot;Carry on, then.&quot;
else:
  echo &quot;That's great; I assume.&quot;

# `while`, `if`, `continue`, `break`

import strutils as str # http://nim-lang.org/docs/strutils.html
echo &quot;I'm thinking of a number between 41 and 43. Guess which!&quot;
let number: int = 42
var
  raw_guess: string
  guess: int
while guess != number:
  raw_guess = readLine(stdin)
  if raw_guess == &quot;&quot;: continue # 跳出循环
  guess = str.parseInt(raw_guess)
  if guess == 1001:
    echo(&quot;AAAAAAGGG!&quot;)
    break
  elif guess &gt; number:
    echo(&quot;Nope. Too high.&quot;)
  elif guess &lt; number:
    echo(guess, &quot; is too low&quot;)
  else:
    echo(&quot;Yeeeeeehaw!&quot;)

#
# 循环(Iteration)
#

for i, elem in [&quot;Yes&quot;, &quot;No&quot;, &quot;Maybe so&quot;]: # 也可以是`for elem in`
  echo(elem, &quot; is at index: &quot;, i)

for k, v in items(@[(person: &quot;You&quot;, power: 100), (person: &quot;Me&quot;, power: 9000)]):
  echo v

let myString = &quot;&quot;&quot;
an &lt;example&gt;
`string` to
play with
&quot;&quot;&quot; # 多行字符串

for line in splitLines(myString):
  echo(line)

for i, c in myString:       # 索引和字符。或使用'for j in'只有字符
  if i mod 2 == 0: continue # 紧凑的'if'形式
  elif c == 'X': break
  else: echo(c)

#
# 过程(Procedure)
#

type Answer = enum aYes, aNo

proc ask(question: string): Answer =
  echo(question, &quot; (y/n)&quot;)
  while true:
    case readLine(stdin)
    of &quot;y&quot;, &quot;Y&quot;, &quot;yes&quot;, &quot;Yes&quot;:
      return Answer.aYes  # 枚举类型可以
    of &quot;n&quot;, &quot;N&quot;, &quot;no&quot;, &quot;No&quot;:
      return Answer.aNo
    else: echo(&quot;Please be clear: yes or no&quot;)

proc addSugar(amount: int = 2) = # amount默认是2，不返回任何值
  assert(amount &gt; 0 and amount &lt; 9000, &quot;Crazy Sugar&quot;)
  for a in 1..amount:
    echo(a, &quot; sugar...&quot;)

case ask(&quot;Would you like sugar in your tea?&quot;)
of aYes:
  addSugar(3)
of aNo:
  echo &quot;Oh do take a little!&quot;
  addSugar()
# 这里不需要使用`else` 。只能是`yes`和`no`。

#
# 外部函数接口(FFI)
#

# 因为Nim可以编译为C，使用外部函数接口(FFI)很简单：

proc strcmp(a, b: cstring): cint {.importc: &quot;strcmp&quot;, nodecl.}

let cmp = strcmp(&quot;C?&quot;, &quot;Easy!&quot;)
</code></pre>
<p>除此以外，Nim通过元编程、性能和编译时特性将自己与其他同类分离开来。</p>
<h2 id="进阶阅读">进阶阅读</h2>
<ul>
<li><a href="http://nim-lang.org">主页</a></li>
<li><a href="http://nim-lang.org/download.html">下载</a></li>
<li><a href="http://nim-lang.org/community.html">社区</a></li>
<li><a href="http://nim-lang.org/question.html">常见问题</a></li>
<li><a href="http://nim-lang.org/documentation.html">文档</a></li>
<li><a href="http://nim-lang.org/docs/manual.html">参考手册</a></li>
<li><a href="http://nim-lang.org/docs/lib.html">标准库</a></li>
<li><a href="http://rosettacode.org/wiki/Category:Nim">Rosetta Code</a></li>
</ul>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E8%BF%9B%E9%98%B6%E9%98%85%E8%AF%BB">进阶阅读</a></li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://lzw-723.github.io/post/cakewalk-an-zhuang-wu-fan-ying-de-jie-jue-ban-fa/">
              <h3 class="post-title">
                Cakewalk安装无反应的解决办法
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '399620a9c9195b7466cf',
    clientSecret: '00893bb4d0569d3ccd4b718ab36d35a4a4be9f6d',
    repo: 'lzw-723.github.io',
    owner: 'lzw-723',
    admin: ['lzw-723'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://lzw-723.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
